#Docker for gate
#systemctl start docker
#login: docker login
#build: docker build -t bishopwolf/gate:9.0 -f DockerFileGate .
#push: docker push bishopwolf/gate:9.0
#interactive: docker run -ti --rm -v ~/software:/home bishopwolf/gate:9.0 /bin/bash

FROM bishopwolf/geant4

#Prepare for gate
RUN mkdir software/gate \
 && echo "source /software/geant4/install/bin/geant4.sh" >> /etc/mybashrc \
 && echo "source /software/root-cern/install/bin/thisroot.sh" >> /etc/mybashrc \
 && source /etc/mybashrc \
 && cd software/gate \
 && mkdir src bin \
 && git clone --branch v9.0 https://github.com/OpenGATE/Gate.git src \
 && cd bin \
 && cmake ../src/ -DGeant4_DIR=/software/geant4/install \
 && make -j8
